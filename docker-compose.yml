version: '2'
volumes:
 dbdata:

services:
 mysql:
  image: mysql:8
  container_name: mysqldb
  volumes:
    - dbdata:/var/lib/mysql
  restart: unless-stopped
  environment:
    - MYSQL_ROOT_PASSWORD=root
    - MYSQL_DATABASE=achatdb
    - MYSQL_USER=root
    - MYSQL_PASSWORD=seifE$$12
  ports:
    - "33061:3306"
 spring_app:
   image: seifeddin/achatproject
   container_name: achatbackend
   restart: on-failure
   ports:
    - 9090:8080
   depends_on:
     - mysqldb
